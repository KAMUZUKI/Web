(function(){"use strict";var e={1975:function(e,t,n){var a=n(9242),o=n(5260),r=(n(2467),n(2483)),i=n(252);const s=[{path:"/login",name:"login",component:()=>Promise.resolve().then(n.bind(n,6014)),meta:{title:"登录页面",transition_enter:"animate__fadeInRight",transition_leave:"animate__fadeOutLeft"}},{path:"/student/VisiterInfo",name:"VisiterInfo",component:()=>n.e(965).then(n.bind(n,2965)),meta:{title:"来访信息",requireAuth:!0,transition_enter:"animate__fadeInRight",transition_leave:"animate__fadeOutLeft"}},{path:"/student/BaseInfo",name:"BaseInfo",component:()=>n.e(541).then(n.bind(n,2541)),meta:{title:"学生基本信息",requireAuth:!0,transition_enter:"animate__fadeInRight",transition_leave:"animate__fadeOutLeft"}},{path:"/student/LeaveInfo",name:"LeaveInfo",component:()=>n.e(2).then(n.bind(n,6002)),meta:{title:"出入基本信息",requireAuth:!0,transition_enter:"animate__fadeInRight",transition_leave:"animate__fadeOutLeft"}},{path:"/admin",name:"AdminManager",component:()=>n.e(439).then(n.bind(n,439)),meta:{title:"管理员管理",requireAuth:!0,transition_enter:"animate__fadeInRight",transition_leave:"animate__fadeOutLeft"}},{path:"/status/404",name:"status404",component:()=>n.e(801).then(n.bind(n,1801)),meta:{title:"404",transition_enter:"animate__fadeInRight",transition_leave:"animate__fadeOutLeft"}},{path:"/status/403",name:"status403",component:()=>n.e(465).then(n.bind(n,6465)),meta:{title:"403",transition_enter:"animate__fadeInRight",transition_leave:"animate__fadeOutLeft"}}],u=(0,r.p7)({history:(0,r.PO)(),base:"/Dormitory/",routes:s}),l=["admin"];u.beforeEach(((e,t,n)=>{e.meta.requireAuth?sessionStorage.getItem("manager")?l.includes(e.path.split("/")[1])?0==JSON.parse(sessionStorage.getItem("manager")).type?n():i.ZP.warning("您没有权限，请向管理员申请"):n():(i.ZP.warning("您没有权限，请先登录"),n("/")):n()}));var c=u,d=n(65);const m=(0,d.MT)({state(){return{msg:"Hello Vuex",isLogin:!1,isCertified:!1,path:"http://kamuzuki.top:8080/dormitory-system",keywords:[]}},mutations:{increment(e){e.count++}}});var f=m,p=n(3396);function g(e,t,n,a,o,r){const i=(0,p.up)("MainFramework");return(0,p.wg)(),(0,p.j4)(i)}function h(e,t,n,a,o,r){const i=(0,p.up)("LayoutFramework"),s=(0,p.up)("LoginForm");return(0,p.wg)(),(0,p.iD)(p.HY,null,[e.isLogin?((0,p.wg)(),(0,p.j4)(i,{key:0,changeLogin:e.changeLogin},null,8,["changeLogin"])):(0,p.kq)("",!0),e.isLogin?(0,p.kq)("",!0):((0,p.wg)(),(0,p.j4)(s,{key:1,changeLogin:e.changeLogin},null,8,["changeLogin"]))],64)}var v=n(4870);const _=e=>((0,p.dD)("data-v-ddaaa366"),e=e(),(0,p.Cn)(),e),w={class:"position: fixed;"},b=_((()=>(0,p._)("span",null,"学生信息",-1))),y=_((()=>(0,p._)("span",null,"来访信息",-1))),k=_((()=>(0,p._)("span",null,"学生出入",-1))),L=_((()=>(0,p._)("span",null,"权限管理",-1)));function C(e,t,n,o,r,i){const s=(0,p.up)("router-link"),u=(0,p.up)("a-button"),l=(0,p.up)("a-card"),c=(0,p.up)("AvatarComponent"),d=(0,p.up)("a-col"),m=(0,p.up)("router-view"),f=(0,p.up)("a-space"),g=(0,p.up)("a-layout-content"),h=(0,p.up)("a-layout");return(0,p.wg)(),(0,p.j4)(h,null,{default:(0,p.w5)((()=>[(0,p.Wm)(g,null,{default:(0,p.w5)((()=>[(0,p.Wm)(f,{size:e.small,direction:"horizontal",align:"start"},{default:(0,p.w5)((()=>[(0,p.Wm)(d,null,{default:(0,p.w5)((()=>[(0,p._)("div",w,[(0,p.Wm)(l,{title:"设置中心",style:{width:"200px"}},{default:(0,p.w5)((()=>[(0,p.Wm)(u,{class:"siderSelect",block:""},{default:(0,p.w5)((()=>[(0,p.Wm)(s,{class:"nav-link",to:"/student/BaseInfo"},{default:(0,p.w5)((()=>[b])),_:1})])),_:1}),(0,p.Wm)(u,{class:"siderSelect",block:""},{default:(0,p.w5)((()=>[(0,p.Wm)(s,{class:"nav-link",to:"/student/VisiterInfo"},{default:(0,p.w5)((()=>[y])),_:1})])),_:1}),(0,p.Wm)(u,{class:"siderSelect",block:""},{default:(0,p.w5)((()=>[(0,p.Wm)(s,{class:"nav-link",to:"/student/LeaveInfo"},{default:(0,p.w5)((()=>[k])),_:1})])),_:1}),(0,p.Wm)(u,{class:"siderSelect",block:""},{default:(0,p.w5)((()=>[(0,p.Wm)(s,{class:"nav-link",to:"/admin"},{default:(0,p.w5)((()=>[L])),_:1})])),_:1})])),_:1}),(0,p.Wm)(c,{changeLogin:e.changeLogin},null,8,["changeLogin"])])])),_:1}),(0,p.Wm)(d,{style:{"background-color":"#fff"},flex:"fix"},{default:(0,p.w5)((()=>[(0,p.Wm)(m,null,{default:(0,p.w5)((({route:e,Component:t})=>[(0,p.Wm)(a.uT,{"enter-active-class":`animate__animated ${e.meta.transition_enter}`,"leave-active-class":`animate__animated ${e.meta.transition_leave}`,mode:"out-in"},{default:(0,p.w5)((()=>[((0,p.wg)(),(0,p.j4)((0,p.LL)(t),{ref:"transContent"},null,512))])),_:2},1032,["enter-active-class","leave-active-class"])])),_:1})])),_:1})])),_:1},8,["size"])])),_:1})])),_:1})}var W=n(7139);const S={style:{background:"#ececec"}},I=(0,p._)("br",null,null,-1),O={style:{"margin-top":"10px"}},F=(0,p._)("br",null,null,-1);function x(e,t,n,a,o,r){const i=(0,p.up)("UserOutlined"),s=(0,p.up)("a-avatar"),u=(0,p.up)("a-button"),l=(0,p.up)("a-card"),c=(0,p.up)("NotificationComponent");return(0,p.wg)(),(0,p.iD)(p.HY,null,[(0,p.Wm)(l,{size:"small",style:{width:"200px"},hoverable:"true"},{default:(0,p.w5)((()=>[(0,p._)("div",S,[(0,p.Wm)(s,{shape:"circle",size:48,src:e.userInfo.url},{icon:(0,p.w5)((()=>[(0,p.Wm)(i)])),_:1},8,["src"]),(0,p._)("span",null,(0,W.zw)(e.userInfo.username),1),I,(0,p._)("p",O,(0,W.zw)(e.userInfo.Motto),1),(0,p.Wm)(u,{type:"primary",onClick:t[0]||(t[0]=t=>e.logout())},{default:(0,p.w5)((()=>[(0,p.Uk)("退出")])),_:1}),F])])),_:1}),(0,p.Wm)(c,{ref:"openNotification"},null,512)],64)}n(7658);var Z=n(4476),j=(0,p.aZ)({name:"NotificationComponent",setup(){const e=(e,t,n)=>{Z.Z[e]({message:t,description:n,duration:2})};return{openNotificationWithIcon:e}}});const A=j;var N=A,P=(0,p.aZ)({name:"AvatarComponent",components:{NotificationComponent:N},setup(e){const t=(0,d.oR)(),n=(0,r.tv)(),a=(0,v.iH)(),o=(0,v.qj)({username:t.state.user.name,url:"http://q1.qlogo.cn/g?b=qq&nk=1437487442&s=100",Motto:"即使再小的帆也能远航"}),i=()=>{sessionStorage.removeItem("manager"),t.state.isCertified=!1,e.changeLogin(),a.value.openNotificationWithIcon("success","成功","恭喜退出成功"),n.push("/login")};return{userInfo:o,openNotification:a,logout:i}},props:{changeLogin:{type:Function,default:()=>{}}}}),q=n(89);const E=(0,q.Z)(P,[["render",x]]);var U=E,M=(0,p.aZ)({name:"LayoutFramework",components:{AvatarComponent:U},props:{changeLogin:{type:Function,default:()=>{}}}});const R=(0,q.Z)(M,[["render",C],["__scopeId","data-v-ddaaa366"]]);var T=R,B=n(6014),D=(0,p.aZ)({name:"MainFramework",setup(){const e=(0,d.oR)(),t=(0,v.iH)(!1),n=()=>{t.value=!t.value};return e.isCertified=!0,{isLogin:t,changeLogin:n}},components:{LayoutFramework:T,LoginForm:B["default"]}});const z=(0,q.Z)(D,[["render",h]]);var H=z,V={name:"App",components:{MainFramework:H}};const J=(0,q.Z)(V,[["render",g]]);var Y=J;(0,a.ri)(Y).use(o.ZP).use(f).use(c).mount("#app")},6014:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var a=n(3396);const o={class:"container"},r=(0,a._)("h1",null,"学生公寓管理系统",-1),i=(0,a._)("a",{class:"login-form-forgot",href:""},"忘记密码",-1),s={style:{position:"fixed",bottom:"0"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320"},u=(0,a._)("path",{fill:"#0099ff","fill-opacity":"0.64",d:"M0,64L40,90.7C80,117,160,171,240,170.7C320,171,400,117,480,117.3C560,117,640,171,720,165.3C800,160,880,96,960,101.3C1040,107,1120,181,1200,176C1280,171,1360,85,1400,42.7L1440,0L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"},null,-1),l=[u];function c(e,t,n,u,c,d){const m=(0,a.up)("UserOutlined"),f=(0,a.up)("a-input"),p=(0,a.up)("a-form-item"),g=(0,a.up)("LockOutlined"),h=(0,a.up)("a-input-password"),v=(0,a.up)("a-checkbox"),_=(0,a.up)("a-button"),w=(0,a.up)("a-form"),b=(0,a.up)("a-card");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(b,{class:"box",bordered:"",hoverable:""},{default:(0,a.w5)((()=>[r,(0,a.Wm)(w,{model:e.formState,name:"normal_login",class:"login-form",onFinish:e.onFinish,onFinishFailed:e.onFinishFailed},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{style:{"margin-bottom":"10px"},label:"用户",name:"username",rules:[{required:!0,message:"Please input your username!"}]},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{value:e.formState.username,"onUpdate:value":t[0]||(t[0]=t=>e.formState.username=t),style:{"border-radius":"10px"}},{prefix:(0,a.w5)((()=>[(0,a.Wm)(m,{class:"site-form-item-icon"})])),_:1},8,["value"])])),_:1}),(0,a.Wm)(p,{style:{"margin-bottom":"10px"},label:"密码",name:"password",rules:[{required:!0,message:"Please input your password!"}]},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{value:e.formState.password,"onUpdate:value":t[1]||(t[1]=t=>e.formState.password=t),style:{"border-radius":"10px"}},{prefix:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"site-form-item-icon"})])),_:1},8,["value"])])),_:1}),(0,a.Wm)(p,{style:{"margin-bottom":"10px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{name:"remember","no-style":""},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{checked:e.formState.remember,"onUpdate:checked":t[2]||(t[2]=t=>e.formState.remember=t)},{default:(0,a.w5)((()=>[(0,a.Uk)("记住")])),_:1},8,["checked"])])),_:1}),i])),_:1}),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(_,{disabled:e.disabled,style:{"border-radius":"10px"},type:"primary","html-type":"submit",class:"login-form-button",onClick:t[3]||(t[3]=t=>e.login())},{default:(0,a.w5)((()=>[(0,a.Uk)(" Log in ")])),_:1},8,["disabled"]),(0,a.Uk)(" Or "),(0,a._)("a",{onClick:t[4]||(t[4]=(...t)=>e.showDrawer&&e.showDrawer(...t))},"register now!")])),_:1})])),_:1},8,["model","onFinish","onFinishFailed"])])),_:1}),((0,a.wg)(),(0,a.iD)("svg",s,l))])}n(7658);var d=n(4870),m=n(8896),f=n(8795),p=n(65),g=n(252),h=n(2483),v=n(4311),_=(0,a.aZ)({name:"LoginForm",components:{UserOutlined:m.Z,LockOutlined:f.Z},setup(e){const t=(0,p.oR)(),n=(0,h.tv)(),o=(0,d.iH)(),r=()=>{var a=new URLSearchParams;a.append("op","login"),a.append("username",i.username),a.append("password",i.password),v.Z.post(t.state.path+"/user.action",a).then((a=>{1==a.data.code?(e.changeLogin(),t.state.isCertified=!0,o.value={id:a.data.data.id,name:a.data.data.name,account:a.data.data.account,type:a.data.data.type},t.state.user=o.value,sessionStorage.setItem("manager",JSON.stringify(o.value)),n.push("/student/BaseInfo"),g.ZP.success("登录成功")):g.ZP.success("登录失败")})).catch((function(e){console.log(e)}))},i=(0,d.qj)({id:1,username:"zhangsan",password:"a",remember:!0}),s=e=>{console.log("Success:",e)},u=e=>{console.log("Failed:",e)},l=(0,a.Fl)((()=>!(i.username&&i.password)));return(0,a.bv)((()=>{sessionStorage.getItem("manager")&&(o.value=JSON.parse(sessionStorage.getItem("manager")),t.state.user=o.value,t.state.isCertified=!0,e.changeLogin(),g.ZP.success("自动登录成功"),n.push("/student/BaseInfo"))})),{formState:i,onFinish:s,onFinishFailed:u,disabled:l,login:r}},props:{changeLogin:{type:Function,default:()=>{}}}}),w=n(89);const b=(0,w.Z)(_,[["render",c]]);var y=b}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,r){if(!a){var i=1/0;for(c=0;c<e.length;c++){a=e[c][0],o=e[c][1],r=e[c][2];for(var s=!0,u=0;u<a.length;u++)(!1&r||i>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[u])}))?a.splice(u--,1):(s=!1,r<i&&(i=r));if(s){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,o,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,a){return n.f[a](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{2:"00005de4",439:"ba607af9",465:"149a8980",541:"b6312aef",801:"77bc6d1f",965:"ba752e0e"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{2:"4178eae2",439:"60bbfe73",541:"dcfd8eac",965:"8b3807e0"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="dormitory:";n.l=function(a,o,r,i){if(e[a])e[a].push(o);else{var s,u;if(void 0!==r)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+r){s=d;break}}s||(u=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+r),s.src=a),e[a]=[o];var m=function(t,n){s.onerror=s.onload=null,clearTimeout(f);var o=e[a];if(delete e[a],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/dormitory-ui/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,a,o){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var i=function(n){if(r.onerror=r.onload=null,"load"===n.type)a();else{var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=i,u.request=s,r.parentNode.removeChild(r),o(u)}};return r.onerror=r.onload=i,r.href=t,n?n.parentNode.insertBefore(r,n.nextSibling):document.head.appendChild(r),r},t=function(e,t){for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var o=n[a],r=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(r===e||r===t))return o}var i=document.getElementsByTagName("style");for(a=0;a<i.length;a++){o=i[a],r=o.getAttribute("data-href");if(r===e||r===t)return o}},a=function(a){return new Promise((function(o,r){var i=n.miniCssF(a),s=n.p+i;if(t(i,s))return o();e(a,s,null,o,r)}))},o={143:0};n.f.miniCss=function(e,t){var n={2:1,439:1,541:1,965:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=a(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}}(),function(){var e={143:0};n.f.j=function(t,a){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)a.push(o[2]);else{var r=new Promise((function(n,a){o=e[t]=[n,a]}));a.push(o[2]=r);var i=n.p+n.u(t),s=new Error,u=function(a){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var r=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,o[1](s)}};n.l(i,u,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,r,i=a[0],s=a[1],u=a[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(u)var c=u(n)}for(t&&t(a);l<i.length;l++)r=i[l],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},a=self["webpackChunkdormitory"]=self["webpackChunkdormitory"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(1975)}));a=n.O(a)})();
//# sourceMappingURL=app.1328bf8a.js.map